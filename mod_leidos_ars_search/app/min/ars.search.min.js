!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(5),__webpack_require__(7),__webpack_require__(9),__webpack_require__(8),__webpack_require__(3),__webpack_require__(1),__webpack_require__(2),__webpack_require__(1),__webpack_require__(4),__webpack_require__(6)},function(module,exports){function AkeebaReleasesCtrl($rootScope,$scope,$stateParams,AkeebaService,$timeout,$filter){"use strict";function paginate(items,limit){if("all"!=limit){var parsedItem=[],x=0;return angular.forEach(items,function(stuff,index){parsedItem[x]=parsedItem[x]||[],parsedItem[x].push(stuff),items.length>limit&&(index+1)%limit==0&&(x+=1)}),parsedItem}return 0==items.length?items:[items]}function sortItems(items,orderFilter,reverse){items=$filter("filter")(items,$scope.searchFilter);var sortedItems=$filter("orderBy")(items,orderFilter,reverse);return sortedItems}$rootScope.$broadcast("application:hidden"),$scope.showLoader=!0,$scope.items=[],$scope.ordering="title",$scope.reverse=!1,$scope.moment=moment,$scope.keywordsShow=!1,$scope.limitOptions=[{name:"Show 5 Items",value:5},{name:"Show 10 Items",value:10},{name:"Show 20 Items",value:20},{name:"Show All Items",value:"all"}],$scope.displayKeywords=function($event,displayInterface,keyword){return displayInterface=void 0===displayInterface||displayInterface,$scope.keywordsShow=displayInterface,$scope.keyword=keyword,document.body.style.overflow=displayInterface?"hidden":"auto",keyword},$scope.limit=$scope.limitOptions[0].value;var _categoryId=$stateParams.categoryId;AkeebaService.getAllItems().then(function(items){if($scope.showLoader=!1,$scope.allItems=items,"all"==_categoryId)$scope.currentItems=0,$scope.items=paginate(sortItems(items,$scope.ordering,$scope.reverse),$scope.limit),$scope.$watch("limit",function(){$scope.items=paginate(sortItems(items,$scope.ordering,$scope.reverse),$scope.limit),$scope.currentItems=0}),$scope.$watchGroup(["ordering","reverse"],function(){$scope.items=paginate(sortItems(items,$scope.ordering,$scope.reverse),$scope.limit)}),$scope.$watch("searchFilter",function(){void 0!=$scope.searchFilter&&($scope.items=paginate(sortItems(items,$scope.ordering,$scope.reverse),$scope.limit),$scope.currentItems=0)});else{var categorizedItems=[];angular.forEach(items,function(item){angular.forEach(item.category_ids,function(category_id){category_id==_categoryId&&categorizedItems.push(item)})}),$scope.items=paginate(sortItems(categorizedItems,$scope.ordering,$scope.reverse),$scope.limit),$scope.$watch("limit",function(){$scope.items=paginate(sortItems(categorizedItems,$scope.ordering,$scope.reverse),$scope.limit),$scope.currentItems=0}),$scope.$watchGroup(["ordering","reverse"],function(){$scope.items=paginate(sortItems(categorizedItems,$scope.ordering,$scope.reverse),$scope.limit)}),$scope.$watch("searchFilter",function(){void 0!=$scope.searchFilter&&($scope.items=paginate(sortItems(categorizedItems,$scope.ordering,$scope.reverse),$scope.limit),$scope.currentItems=0)})}}),$scope.adjustCurrentItems=function(num){if("last"==num)$timeout(function(){$scope.currentItems=$scope.items.length-1});else if("first"==num)$timeout(function(){$scope.currentItems=0});else{var newNumber=$scope.currentItems+num;newNumber>=0&&newNumber<$scope.items.length&&$timeout(function(){$scope.currentItems=newNumber})}}}angular.module("Leidos.OSADP.Akeeba.Application.Search").controller("AkeebaReleasesCtrl",["$rootScope","$scope","$stateParams","AkeebaService","$timeout","$filter",AkeebaReleasesCtrl])},function(module,exports){"use strict";function ApplicationCtrl($rootScope,$scope,$stateParams,AkeebaService,$state,$timeout,JoomlaApp){$scope.activeTab="overview",$scope.login=!1,$state.applicationWidth="col-xs-12",$scope.redirect=btoa(location.href),$scope.token=JoomlaApp.token,$scope.userId=JoomlaApp.userId,$scope.loggedIn=!JoomlaApp.isGuest,$rootScope.$broadcast("application:visible"),AkeebaService.getItem($stateParams.itemId).then(function(item){if((item.keywords=null)&&(item.keywords=[]),2!=item.access){var access=JoomlaApp.usergroups[item.access];void 0==access&&(window.location.href="#/all")}$scope.item=item,null!=$scope.item.release.description&&""!=$scope.item.release.description||($scope.activeTab="description"),AkeebaService.getItemDocumentation(item.id).then(function(data){$scope.item.documentation=data}),AkeebaService.getOtherItems(item.release.category.id,item.id).then(function(items){$scope.otherItems=items}),AkeebaService.getAllCategories().then(function(categories){$scope.item.categories=[],angular.forEach($scope.item.category_ids,function(category_id){angular.forEach(categories,function(category){category_id==category.id&&$scope.item.categories.push({id:category.id,title:category.title})})})}).then(function(){var $=jQuery,images=$(".ars-item__page").find("img");angular.forEach(images,function(image){var firstChar=$(image).attr("src")[0];"/"!==firstChar&&$(image).attr("src","/"+$(image).attr("src"))})})}),$scope.toggleLogin=function($event,focusSelector){$scope.login=!$scope.login,$timeout(function(){document.querySelector(focusSelector).focus()},100)}}angular.module("Leidos.OSADP.Akeeba.Application.Search").controller("ApplicationCtrl",["$rootScope","$scope","$stateParams","AkeebaService","$state","$timeout","JoomlaApp",ApplicationCtrl])},function(module,exports){"use strict";function CategoryListCtrl($rootScope,$scope,$timeout,$http,$location,AkeebaService){function setActiveOnLoad(categories){angular.forEach(categories,function(category){category.active=!1,category.id==$location.path().split("/")[1]&&($scope.currentCategory=category,$scope.currentCategory.active=!0)})}$scope.categories=[],AkeebaService.getAllCategories().then(function(data){$scope.categories=data,$scope.categories.length>0&&($scope.currentCategory={title:"All Active Releases",id:"all",icon_url:"/modules/mod_leidos_ars_search/images/osadp-logo-blue.png",icon_url_alt:"/modules/mod_leidos_ars_search/images/osadp-logo-white.png"},$scope.categories.unshift($scope.currentCategory)),setActiveOnLoad($scope.categories),$scope.categoryChange=function(){$scope.currentCategory.active=!1,$scope.currentCategory=this.category,$scope.currentCategory.active=!0},AkeebaService.getAllItems().then(function(_items){angular.forEach($scope.categories,function(category){category.items=[],"all"==category.id&&(category.items=_items),angular.forEach(_items,function(item){angular.forEach(item.category_ids,function(category_id){category_id==category.id&&category.items.push(item)})})})}),$rootScope.$on("application:hidden",function(){$scope.hideView=!1,setActiveOnLoad($scope.categories)})}),$rootScope.$on("application:visible",function(){$scope.hideView=!0})}angular.module("Leidos.OSADP.Akeeba.Application.Search").controller("CategoryListCtrl",["$rootScope","$scope","$timeout","$http","$location","AkeebaService",CategoryListCtrl])},function(module,exports){function ViewCtrl($rootScope,$scope){$rootScope.$on("application:visible",function(){$scope.width="col-xs-12"}),$rootScope.$on("application:hidden",function(){$scope.width="col-xs-12 col-md-8"})}angular.module("Leidos.OSADP.Akeeba.Application.Search").controller("ViewCtrl",["$rootScope","$scope",ViewCtrl])},function(module,exports){"use strict";angular.module("Leidos.OSADP.Akeeba.Application.Search",["ui.router","ngSanitize","JoomlaAppValues"]),function(window,document,$,FastClick,undefined){$(document).ready(function(){FastClick.attach(document.body);var arsSearcher=$("#arsSearch");angular.bootstrap(arsSearcher,["Leidos.OSADP.Akeeba.Application.Search"])}),$(".ars-categories--mobile").ready(function(){var btn=$(".ars-categories--mobile").find(".btn");btn.click(function(){$(".ars-categories__item").toggleClass("hidden-xs hidden-sm");var icon=btn.find(".fa");icon.hasClass("fa-angle-down")?icon.removeClass("fa-angle-down").addClass("fa-angle-up"):icon.removeClass("fa-angle-up").addClass("fa-angle-down")})})}(window,document,jQuery,FastClick)},function(module,exports){"use strict";angular.module("Leidos.OSADP.Akeeba.Application.Search").config(["$urlRouterProvider","$stateProvider",function($urlRouterProvider,$stateProvider){$stateProvider.state("main",{url:"/:categoryId",templateUrl:"/modules/mod_leidos_ars_search/app/partials/main.ng.html",controller:"AkeebaReleasesCtrl"}).state("application",{url:"/:categoryId/:itemId",templateUrl:"/modules/mod_leidos_ars_search/app/partials/application.ng.html",controller:"ApplicationCtrl",onEnter:function(){jQuery("html, body").animate({scrollTop:-1e4},100)}}),$urlRouterProvider.otherwise("/all")}])},function(module,exports){angular.module("Leidos.OSADP.Akeeba.Application.Search").directive("akeebaitem",function(){return{scope:{item:"=",toggleKeywords:"=displaykeywords",showKeywordTags:"=showkeywordtags",activeKeyword:"=activekeyword"},restrict:"EA",templateUrl:"/modules/mod_leidos_ars_search/app/partials/item.ng.html",link:function($scope,iElm,iAttrs,controller){$scope.showKeywordTags=void 0==$scope.showKeywordTags||$scope.showKeywordTags}}})},function(module,exports){angular.module("Leidos.OSADP.Akeeba.Application.Search").service("AkeebaService",["$http","JoomlaApp",function($http,JoomlaApp){function envToFontAwesome(items){items=items.split('"');var environment,_fontAwesome=["-","-","linux","osx","ios","windows","android"],_parsedItems=[];return angular.forEach(items,function(item,index){index%2&&(environment=_fontAwesome[item],_parsedItems.push({icon:"osx"==environment||"ios"==environment?"apple":environment,name:environment}))}),_parsedItems}var _this=this;return console.log(JoomlaApp),_this.getAllCategories=function(){return $http.get("/leidos/custom/services/ars/categories").then(function(promise){return promise.data})},_this.getCategory=function(categoryId){return $http.get("/leidos/custom/services/ars/categories/"+categoryId).then(function(promise){return promise.data})},_this.getAllItems=function(){return $http.get("/leidos/custom/services/ars/items").then(function(promise){var items=promise.data,removeItems=[];return angular.forEach(items,function(item,index){if(item.environments=envToFontAwesome(item.environments),item.hits=parseInt(item.hits),item.release.modified=moment(item.release.modified).format("MMM D, YYYY"),item.keywords?item.keywords=item.keywords.split(","):item.keywords=[],2!=item.access){var hasAccess=!1;angular.forEach(JoomlaApp.usergroups,function(group){hasAccess===!1&&angular.forEach(JSON.parse(item.rules),function(rule){hasAccess=rule==group})}),hasAccess||removeItems.push(index)}}),angular.forEach(removeItems,function(removeItem,index){items.splice(removeItem-index,1)}),items})},_this.getItemsByCategory=function(categoryId){return $http.get("/leidos/custom/services/ars/items").then(function(promise){var _parsedItems=[],removeItems=[];return angular.forEach(promise.data,function(item,index){item.release.category.id==categoryId&&(item.environments=envToFontAwesome(item.environments),item.keywords?item.keywords=item.keywords.split(","):item.keywords=[],_parsedItems.push(item))}),angular.forEach(_parsedItems,function(item,index){if(2!=item.access){var access=JoomlaApp.usergroups[item.access];void 0==access&&removeItems.push(index)}}),angular.forEach(removeItems,function(removeItem,index){_parsedItems.splice(removeItem-index,1)}),_parsedItems})},_this.getOtherItems=function(categoryId,itemId){return $http.get("/leidos/custom/services/ars/items").then(function(promise){var _parsedItems=[],removeItems=[];return angular.forEach(promise.data,function(item,index){item.release.category.id==categoryId&&item.id!=itemId&&(item.environments=envToFontAwesome(item.environments),item.keywords&&(item.keywords=item.keywords.split(",")),_parsedItems.push(item))}),angular.forEach(_parsedItems,function(item,index){if(2!=item.access){var access=JoomlaApp.usergroups[item.access];void 0==access&&removeItems.push(index)}}),angular.forEach(removeItems,function(removeItem,index){console.log(_parsedItems.splice(removeItem-index,1))}),_parsedItems})},_this.getItem=function(itemId){return $http.get("/leidos/custom/services/ars/items/"+itemId).then(function(promise){var item=promise.data;return item.environments=envToFontAwesome(promise.data.environments),item.keywords?item.keywords=item.keywords.split(","):item.keywords=[],item})},_this.getItemDocumentation=function(itemId){return $http.post("/leidos/custom/services/extras/documentation",{itemId:parseInt(itemId)}).then(function(promise){return promise.data})},_this}])},function(module,exports){angular.module("Leidos.OSADP.Akeeba.Application.Search").directive("keywordsDisplay",function(){return{scope:{items:"=",keyword:"=",toggle:"=",show:"="},restrict:"EA",templateUrl:"/modules/mod_leidos_ars_search/app/partials/keywords.ng.html",link:function($scope,iElm,iAttrs,controller){console.log($scope)}}})}]);